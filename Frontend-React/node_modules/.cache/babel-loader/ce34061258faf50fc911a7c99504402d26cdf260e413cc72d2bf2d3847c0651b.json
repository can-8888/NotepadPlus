{"ast":null,"code":"export let NoteStatus = /*#__PURE__*/function (NoteStatus) {\n  NoteStatus[\"Personal\"] = \"Personal\";\n  // 0\n  NoteStatus[\"Shared\"] = \"Shared\";\n  // 1\n  NoteStatus[\"Public\"] = \"Public\"; // 2\n  return NoteStatus;\n}({});\n// Update the converter function to handle the new owner structure\nexport const convertApiResponseToNote = apiNote => ({\n  id: apiNote.id,\n  title: apiNote.title,\n  content: apiNote.content,\n  category: apiNote.category,\n  createdAt: apiNote.createdAt,\n  updatedAt: apiNote.updatedAt,\n  isPublic: apiNote.isPublic,\n  status: getNoteStatus(apiNote.status),\n  owner: apiNote.owner ? {\n    id: apiNote.owner.id,\n    username: apiNote.owner.username,\n    email: apiNote.owner.email,\n    name: apiNote.owner.name,\n    createdAt: apiNote.owner.createdAt\n  } : undefined,\n  userId: apiNote.ownerId\n});\n\n// Helper function to ensure proper status conversion\nexport const getNoteStatus = status => {\n  if (typeof status === 'string') {\n    switch (status.toLowerCase()) {\n      case 'personal':\n        return NoteStatus.Personal;\n      case 'shared':\n        return NoteStatus.Shared;\n      case 'public':\n        return NoteStatus.Public;\n      default:\n        return NoteStatus.Personal;\n    }\n  }\n  return status;\n};","map":{"version":3,"names":["NoteStatus","convertApiResponseToNote","apiNote","id","title","content","category","createdAt","updatedAt","isPublic","status","getNoteStatus","owner","username","email","name","undefined","userId","ownerId","toLowerCase","Personal","Shared","Public"],"sources":["D:/_master/v5/notepad-plus/src/types/Note.ts"],"sourcesContent":["import { User } from './Auth';\r\n\r\nexport enum NoteStatus {\r\n    Personal = 'Personal',  // 0\r\n    Shared = 'Shared',     // 1\r\n    Public = 'Public'      // 2\r\n}\r\n\r\nexport interface Note {\r\n    id: number;\r\n    title: string;\r\n    content: string;\r\n    category?: string;\r\n    createdAt: string;\r\n    updatedAt: string;\r\n    isPublic: boolean;\r\n    status: NoteStatus;\r\n    owner?: User;\r\n    userId: number;\r\n    sharedWith?: User[];\r\n}\r\n\r\nexport interface NoteApiResponse {\r\n    id: number;\r\n    title: string;\r\n    content: string;\r\n    category: string;\r\n    createdAt: string;  // API returns dates as strings\r\n    updatedAt: string;\r\n    isPublic: boolean;\r\n    status: NoteStatus;\r\n    owner: {\r\n        id: number;\r\n        username: string;\r\n        email: string;\r\n        name: string;\r\n        createdAt: string;\r\n    };\r\n    ownerId: number;\r\n}\r\n\r\nexport interface ApiResponse<T> {\r\n    data: T;\r\n}\r\n\r\n// Update the converter function to handle the new owner structure\r\nexport const convertApiResponseToNote = (apiNote: NoteApiResponse): Note => ({\r\n    id: apiNote.id,\r\n    title: apiNote.title,\r\n    content: apiNote.content,\r\n    category: apiNote.category,\r\n    createdAt: apiNote.createdAt,\r\n    updatedAt: apiNote.updatedAt,\r\n    isPublic: apiNote.isPublic,\r\n    status: getNoteStatus(apiNote.status),\r\n    owner: apiNote.owner ? {\r\n        id: apiNote.owner.id,\r\n        username: apiNote.owner.username,\r\n        email: apiNote.owner.email,\r\n        name: apiNote.owner.name,\r\n        createdAt: apiNote.owner.createdAt\r\n    } : undefined,\r\n    userId: apiNote.ownerId\r\n});\r\n\r\n// Helper function to ensure proper status conversion\r\nexport const getNoteStatus = (status: string | NoteStatus): NoteStatus => {\r\n    if (typeof status === 'string') {\r\n        switch (status.toLowerCase()) {\r\n            case 'personal':\r\n                return NoteStatus.Personal;\r\n            case 'shared':\r\n                return NoteStatus.Shared;\r\n            case 'public':\r\n                return NoteStatus.Public;\r\n            default:\r\n                return NoteStatus.Personal;\r\n        }\r\n    }\r\n    return status;\r\n};"],"mappings":"AAEA,WAAYA,UAAU,0BAAVA,UAAU;EAAVA,UAAU;EACM;EADhBA,UAAU;EAEK;EAFfA,UAAU,uBAGK;EAAA,OAHfA,UAAU;AAAA;AA2CtB;AACA,OAAO,MAAMC,wBAAwB,GAAIC,OAAwB,KAAY;EACzEC,EAAE,EAAED,OAAO,CAACC,EAAE;EACdC,KAAK,EAAEF,OAAO,CAACE,KAAK;EACpBC,OAAO,EAAEH,OAAO,CAACG,OAAO;EACxBC,QAAQ,EAAEJ,OAAO,CAACI,QAAQ;EAC1BC,SAAS,EAAEL,OAAO,CAACK,SAAS;EAC5BC,SAAS,EAAEN,OAAO,CAACM,SAAS;EAC5BC,QAAQ,EAAEP,OAAO,CAACO,QAAQ;EAC1BC,MAAM,EAAEC,aAAa,CAACT,OAAO,CAACQ,MAAM,CAAC;EACrCE,KAAK,EAAEV,OAAO,CAACU,KAAK,GAAG;IACnBT,EAAE,EAAED,OAAO,CAACU,KAAK,CAACT,EAAE;IACpBU,QAAQ,EAAEX,OAAO,CAACU,KAAK,CAACC,QAAQ;IAChCC,KAAK,EAAEZ,OAAO,CAACU,KAAK,CAACE,KAAK;IAC1BC,IAAI,EAAEb,OAAO,CAACU,KAAK,CAACG,IAAI;IACxBR,SAAS,EAAEL,OAAO,CAACU,KAAK,CAACL;EAC7B,CAAC,GAAGS,SAAS;EACbC,MAAM,EAAEf,OAAO,CAACgB;AACpB,CAAC,CAAC;;AAEF;AACA,OAAO,MAAMP,aAAa,GAAID,MAA2B,IAAiB;EACtE,IAAI,OAAOA,MAAM,KAAK,QAAQ,EAAE;IAC5B,QAAQA,MAAM,CAACS,WAAW,CAAC,CAAC;MACxB,KAAK,UAAU;QACX,OAAOnB,UAAU,CAACoB,QAAQ;MAC9B,KAAK,QAAQ;QACT,OAAOpB,UAAU,CAACqB,MAAM;MAC5B,KAAK,QAAQ;QACT,OAAOrB,UAAU,CAACsB,MAAM;MAC5B;QACI,OAAOtB,UAAU,CAACoB,QAAQ;IAClC;EACJ;EACA,OAAOV,MAAM;AACjB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}