{"ast":null,"code":"var _jsxFileName = \"D:\\\\_master\\\\v5\\\\notepad-plus\\\\src\\\\components\\\\NoteEditor.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport { signalRService } from '../services/signalR';\nimport './NoteEditor.css'; // Make sure this is the exact path\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NoteEditor = ({\n  note,\n  onSave,\n  onCancel\n}) => {\n  _s();\n  const [title, setTitle] = React.useState('');\n  const [content, setContent] = React.useState('');\n  const [category, setCategory] = React.useState('');\n  const [isSaving, setIsSaving] = React.useState(false);\n  const [collaborators, setCollaborators] = React.useState([]);\n  const contentRef = useRef(null);\n  const lastUpdateRef = useRef(0);\n  const updateTimeoutRef = useRef();\n  useEffect(() => {\n    if (note) {\n      // Editing existing note\n      setTitle(note.title);\n      setContent(note.content);\n      setCategory(note.category);\n\n      // Join the note's SignalR group\n      signalRService.joinNote(note.id);\n\n      // Listen for updates from other users\n      signalRService.onNoteUpdated((noteId, updatedContent) => {\n        if (noteId === note.id) {\n          setContent(updatedContent);\n        }\n      });\n\n      // Listen for cursor movements\n      signalRService.onCursorMoved((username, position) => {\n        showCursorPosition(username, position);\n      });\n\n      // Listen for collaborator presence with type annotations\n      signalRService.onCollaboratorJoined(username => {\n        setCollaborators(prev => [...prev, username]);\n      });\n      signalRService.onCollaboratorLeft(username => {\n        setCollaborators(prev => prev.filter(u => u !== username));\n      });\n    } else {\n      // Creating new note\n      setTitle('');\n      setContent('');\n      setCategory('');\n    }\n    return () => {\n      if (note) {\n        signalRService.leaveNote(note.id);\n        signalRService.removeAllHandlers(); // Clean up event handlers\n      }\n    };\n  }, [note === null || note === void 0 ? void 0 : note.id]);\n  const showCursorPosition = (username, position) => {\n    var _textArea$parentEleme;\n    if (!contentRef.current) return;\n\n    // Remove existing cursor for this user\n    const existingCursor = document.querySelector(`.cursor-${username}`);\n    existingCursor === null || existingCursor === void 0 ? void 0 : existingCursor.remove();\n\n    // Create new cursor element\n    const cursor = document.createElement('div');\n    cursor.className = `cursor cursor-${username}`;\n    cursor.innerHTML = `<div class=\"cursor-flag\">${username}</div>`;\n    cursor.style.position = 'absolute';\n\n    // Calculate cursor position\n    const textArea = contentRef.current;\n    const textBeforeCursor = content.substring(0, position);\n    const lines = textBeforeCursor.split('\\n');\n    const lineNumber = lines.length - 1;\n    const charPosition = lines[lines.length - 1].length;\n\n    // Position the cursor\n    const lineHeight = 20; // Approximate line height\n    cursor.style.top = `${lineNumber * lineHeight}px`;\n    cursor.style.left = `${charPosition * 8}px`; // Approximate character width\n\n    // Add cursor to editor\n    (_textArea$parentEleme = textArea.parentElement) === null || _textArea$parentEleme === void 0 ? void 0 : _textArea$parentEleme.appendChild(cursor);\n\n    // Remove cursor after a delay\n    setTimeout(() => cursor.remove(), 2000);\n  };\n  const handleContentChange = e => {\n    const newContent = e.target.value;\n    setContent(newContent);\n\n    // Throttle updates to avoid overwhelming the server\n    const now = Date.now();\n    if (now - lastUpdateRef.current > 500) {\n      if (note) {\n        signalRService.updateNote(note.id, newContent);\n        lastUpdateRef.current = now;\n      }\n    } else {\n      if (updateTimeoutRef.current) {\n        clearTimeout(updateTimeoutRef.current);\n      }\n      updateTimeoutRef.current = setTimeout(() => {\n        if (note) {\n          signalRService.updateNote(note.id, newContent);\n          lastUpdateRef.current = Date.now();\n        }\n      }, 500);\n    }\n  };\n  const updateCursorPosition = () => {\n    if (!note || !contentRef.current) return;\n    const textarea = contentRef.current;\n    const cursorPosition = textarea.selectionStart;\n    signalRService.updateCursorPosition(note.id, cursorPosition);\n  };\n  const handleMouseMove = e => {\n    updateCursorPosition();\n  };\n  const handleKeyUp = e => {\n    updateCursorPosition();\n  };\n  const handleSave = async () => {\n    try {\n      setIsSaving(true);\n      await onSave({\n        ...(note || {}),\n        // Spread existing note if editing, empty object if creating\n        title,\n        content,\n        category\n      });\n      if (!note) {\n        // Clear form after creating new note\n        setTitle('');\n        setContent('');\n        setCategory('');\n      }\n    } finally {\n      setIsSaving(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"note-editor\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: note ? 'Edit Note' : 'Create Note'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }, this), collaborators.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"collaborators\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Currently editing: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 21\n      }, this), collaborators.map(username => /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"collaborator-badge\",\n        children: username\n      }, username, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 25\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Title\",\n      value: title,\n      onChange: e => setTitle(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Category\",\n      value: category,\n      onChange: e => setCategory(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      ref: contentRef,\n      placeholder: \"Note content...\",\n      value: content,\n      onChange: handleContentChange,\n      onClick: handleMouseMove,\n      onKeyUp: handleKeyUp\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"button-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSave,\n        disabled: isSaving,\n        children: isSaving ? 'Saving...' : note ? 'Save' : 'Create'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onCancel,\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 159,\n    columnNumber: 9\n  }, this);\n};\n_s(NoteEditor, \"3AzSQ0LoQ8THHiWp652n5W+/A9c=\");\n_c = NoteEditor;\nexport default NoteEditor;\nvar _c;\n$RefreshReg$(_c, \"NoteEditor\");","map":{"version":3,"names":["React","useEffect","useRef","signalRService","jsxDEV","_jsxDEV","NoteEditor","note","onSave","onCancel","_s","title","setTitle","useState","content","setContent","category","setCategory","isSaving","setIsSaving","collaborators","setCollaborators","contentRef","lastUpdateRef","updateTimeoutRef","joinNote","id","onNoteUpdated","noteId","updatedContent","onCursorMoved","username","position","showCursorPosition","onCollaboratorJoined","prev","onCollaboratorLeft","filter","u","leaveNote","removeAllHandlers","_textArea$parentEleme","current","existingCursor","document","querySelector","remove","cursor","createElement","className","innerHTML","style","textArea","textBeforeCursor","substring","lines","split","lineNumber","length","charPosition","lineHeight","top","left","parentElement","appendChild","setTimeout","handleContentChange","e","newContent","target","value","now","Date","updateNote","clearTimeout","updateCursorPosition","textarea","cursorPosition","selectionStart","handleMouseMove","handleKeyUp","handleSave","children","fileName","_jsxFileName","columnNumber","map","type","placeholder","onChange","ref","onClick","onKeyUp","disabled","_c","$RefreshReg$"],"sources":["D:/_master/v5/notepad-plus/src/components/NoteEditor.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport { Note } from '../types/Note';\r\nimport { signalRService } from '../services/signalR';\r\nimport './NoteEditor.css';  // Make sure this is the exact path\r\n\r\ninterface NoteEditorProps {\r\n    note?: Note;\r\n    onSave: (note: Partial<Note>) => Promise<void>;\r\n    onCancel: () => void;\r\n}\r\n\r\nconst NoteEditor: React.FC<NoteEditorProps> = ({ note, onSave, onCancel }) => {\r\n    const [title, setTitle] = React.useState('');\r\n    const [content, setContent] = React.useState('');\r\n    const [category, setCategory] = React.useState('');\r\n    const [isSaving, setIsSaving] = React.useState(false);\r\n    const [collaborators, setCollaborators] = React.useState<string[]>([]);\r\n    const contentRef = useRef<HTMLTextAreaElement>(null);\r\n    const lastUpdateRef = useRef<number>(0);\r\n    const updateTimeoutRef = useRef<NodeJS.Timeout>();\r\n\r\n    useEffect(() => {\r\n        if (note) {\r\n            // Editing existing note\r\n            setTitle(note.title);\r\n            setContent(note.content);\r\n            setCategory(note.category);\r\n            \r\n            // Join the note's SignalR group\r\n            signalRService.joinNote(note.id);\r\n\r\n            // Listen for updates from other users\r\n            signalRService.onNoteUpdated((noteId, updatedContent) => {\r\n                if (noteId === note.id) {\r\n                    setContent(updatedContent);\r\n                }\r\n            });\r\n\r\n            // Listen for cursor movements\r\n            signalRService.onCursorMoved((username, position) => {\r\n                showCursorPosition(username, position);\r\n            });\r\n\r\n            // Listen for collaborator presence with type annotations\r\n            signalRService.onCollaboratorJoined((username: string) => {\r\n                setCollaborators(prev => [...prev, username]);\r\n            });\r\n\r\n            signalRService.onCollaboratorLeft((username: string) => {\r\n                setCollaborators(prev => prev.filter(u => u !== username));\r\n            });\r\n        } else {\r\n            // Creating new note\r\n            setTitle('');\r\n            setContent('');\r\n            setCategory('');\r\n        }\r\n\r\n        return () => {\r\n            if (note) {\r\n                signalRService.leaveNote(note.id);\r\n                signalRService.removeAllHandlers(); // Clean up event handlers\r\n            }\r\n        };\r\n    }, [note?.id]);\r\n\r\n    const showCursorPosition = (username: string, position: number) => {\r\n        if (!contentRef.current) return;\r\n\r\n        // Remove existing cursor for this user\r\n        const existingCursor = document.querySelector(`.cursor-${username}`);\r\n        existingCursor?.remove();\r\n\r\n        // Create new cursor element\r\n        const cursor = document.createElement('div');\r\n        cursor.className = `cursor cursor-${username}`;\r\n        cursor.innerHTML = `<div class=\"cursor-flag\">${username}</div>`;\r\n        cursor.style.position = 'absolute';\r\n\r\n        // Calculate cursor position\r\n        const textArea = contentRef.current;\r\n        const textBeforeCursor = content.substring(0, position);\r\n        const lines = textBeforeCursor.split('\\n');\r\n        const lineNumber = lines.length - 1;\r\n        const charPosition = lines[lines.length - 1].length;\r\n\r\n        // Position the cursor\r\n        const lineHeight = 20; // Approximate line height\r\n        cursor.style.top = `${lineNumber * lineHeight}px`;\r\n        cursor.style.left = `${charPosition * 8}px`; // Approximate character width\r\n\r\n        // Add cursor to editor\r\n        textArea.parentElement?.appendChild(cursor);\r\n\r\n        // Remove cursor after a delay\r\n        setTimeout(() => cursor.remove(), 2000);\r\n    };\r\n\r\n    const handleContentChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n        const newContent = e.target.value;\r\n        setContent(newContent);\r\n\r\n        // Throttle updates to avoid overwhelming the server\r\n        const now = Date.now();\r\n        if (now - lastUpdateRef.current > 500) {\r\n            if (note) {\r\n                signalRService.updateNote(note.id, newContent);\r\n                lastUpdateRef.current = now;\r\n            }\r\n        } else {\r\n            if (updateTimeoutRef.current) {\r\n                clearTimeout(updateTimeoutRef.current);\r\n            }\r\n            updateTimeoutRef.current = setTimeout(() => {\r\n                if (note) {\r\n                    signalRService.updateNote(note.id, newContent);\r\n                    lastUpdateRef.current = Date.now();\r\n                }\r\n            }, 500);\r\n        }\r\n    };\r\n\r\n    const updateCursorPosition = () => {\r\n        if (!note || !contentRef.current) return;\r\n        const textarea = contentRef.current;\r\n        const cursorPosition = textarea.selectionStart;\r\n        signalRService.updateCursorPosition(note.id, cursorPosition);\r\n    };\r\n\r\n    const handleMouseMove = (e: React.MouseEvent<HTMLTextAreaElement>) => {\r\n        updateCursorPosition();\r\n    };\r\n\r\n    const handleKeyUp = (e: React.KeyboardEvent<HTMLTextAreaElement>) => {\r\n        updateCursorPosition();\r\n    };\r\n\r\n    const handleSave = async () => {\r\n        try {\r\n            setIsSaving(true);\r\n            await onSave({\r\n                ...(note || {}), // Spread existing note if editing, empty object if creating\r\n                title,\r\n                content,\r\n                category\r\n            });\r\n            if (!note) {\r\n                // Clear form after creating new note\r\n                setTitle('');\r\n                setContent('');\r\n                setCategory('');\r\n            }\r\n        } finally {\r\n            setIsSaving(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"note-editor\">\r\n            <h2>{note ? 'Edit Note' : 'Create Note'}</h2>\r\n            {collaborators.length > 0 && (\r\n                <div className=\"collaborators\">\r\n                    <span>Currently editing: </span>\r\n                    {collaborators.map(username => (\r\n                        <span key={username} className=\"collaborator-badge\">\r\n                            {username}\r\n                        </span>\r\n                    ))}\r\n                </div>\r\n            )}\r\n            <input\r\n                type=\"text\"\r\n                placeholder=\"Title\"\r\n                value={title}\r\n                onChange={(e) => setTitle(e.target.value)}\r\n            />\r\n            <input\r\n                type=\"text\"\r\n                placeholder=\"Category\"\r\n                value={category}\r\n                onChange={(e) => setCategory(e.target.value)}\r\n            />\r\n            <textarea\r\n                ref={contentRef}\r\n                placeholder=\"Note content...\"\r\n                value={content}\r\n                onChange={handleContentChange}\r\n                onClick={handleMouseMove}\r\n                onKeyUp={handleKeyUp}\r\n            />\r\n            <div className=\"button-group\">\r\n                <button \r\n                    onClick={handleSave}\r\n                    disabled={isSaving}\r\n                >\r\n                    {isSaving ? 'Saving...' : (note ? 'Save' : 'Create')}\r\n                </button>\r\n                <button onClick={onCancel}>Cancel</button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NoteEditor;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}