{"ast":null,"code":"import { HubConnectionBuilder } from '@microsoft/signalr';\nimport { getCurrentUser } from './api';\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\nclass SignalRService {\n  constructor() {\n    this.connection = null;\n    this.currentNoteId = null;\n    this.handlers = {};\n    this.startConnection = async () => {\n      try {\n        const user = getCurrentUser();\n        if (!(user !== null && user !== void 0 && user.Id)) {\n          console.log('No user found, skipping SignalR connection');\n          return;\n        }\n        const hubUrl = `${API_URL}/notehub`;\n        console.log('Connecting to SignalR hub at:', hubUrl);\n        this.connection = new HubConnectionBuilder().withUrl(hubUrl).withAutomaticReconnect().build();\n        if (this.connection) {\n          this.connection.onreconnecting(() => {\n            console.log('Attempting to reconnect to SignalR hub');\n          });\n          this.connection.onreconnected(connectionId => {\n            console.log('Reconnected to SignalR hub with ID:', connectionId);\n          });\n          this.connection.onclose(() => {\n            console.log('SignalR Connection closed');\n          });\n          await this.connection.start();\n          console.log('SignalR Connected successfully!');\n        }\n      } catch (err) {\n        console.error('SignalR Connection Error:', err);\n      }\n    };\n    this.stopConnection = async () => {\n      try {\n        if (this.connection) {\n          await this.connection.stop();\n          console.log('SignalR Disconnected');\n        }\n      } catch (err) {\n        console.error('Error stopping SignalR connection:', err);\n      }\n    };\n    this.isConnected = () => {\n      var _this$connection;\n      return ((_this$connection = this.connection) === null || _this$connection === void 0 ? void 0 : _this$connection.state) === 'Connected';\n    };\n  }\n  async joinNote(noteId) {\n    var _this$connection2;\n    if (this.currentNoteId) {\n      await this.leaveNote(this.currentNoteId);\n    }\n    if (((_this$connection2 = this.connection) === null || _this$connection2 === void 0 ? void 0 : _this$connection2.state) === 'Connected') {\n      await this.connection.invoke('JoinNote', noteId);\n      this.currentNoteId = noteId;\n    }\n  }\n  async leaveNote(noteId) {\n    var _this$connection3;\n    if (((_this$connection3 = this.connection) === null || _this$connection3 === void 0 ? void 0 : _this$connection3.state) === 'Connected') {\n      await this.connection.invoke('LeaveNote', noteId);\n      this.currentNoteId = null;\n    }\n  }\n  onNoteUpdated(callback) {\n    var _this$connection4;\n    this.handlers['NoteUpdated'] = callback;\n    (_this$connection4 = this.connection) === null || _this$connection4 === void 0 ? void 0 : _this$connection4.on('NoteUpdated', callback);\n  }\n  async updateNote(noteId, content) {\n    var _this$connection5;\n    if (((_this$connection5 = this.connection) === null || _this$connection5 === void 0 ? void 0 : _this$connection5.state) === 'Connected') {\n      await this.connection.invoke('UpdateNote', noteId, content);\n    }\n  }\n  onCursorMoved(callback) {\n    var _this$connection6;\n    this.handlers['CursorMoved'] = callback;\n    (_this$connection6 = this.connection) === null || _this$connection6 === void 0 ? void 0 : _this$connection6.on('CursorMoved', callback);\n  }\n  async updateCursorPosition(noteId, position) {\n    var _this$connection7;\n    const user = getCurrentUser();\n    if (user && ((_this$connection7 = this.connection) === null || _this$connection7 === void 0 ? void 0 : _this$connection7.state) === 'Connected') {\n      await this.connection.invoke('CursorMoved', noteId, user.Username, position);\n    }\n  }\n  onCollaboratorJoined(callback) {\n    var _this$connection8;\n    this.handlers['CollaboratorJoined'] = callback;\n    (_this$connection8 = this.connection) === null || _this$connection8 === void 0 ? void 0 : _this$connection8.on('CollaboratorJoined', callback);\n  }\n  onCollaboratorLeft(callback) {\n    var _this$connection9;\n    this.handlers['CollaboratorLeft'] = callback;\n    (_this$connection9 = this.connection) === null || _this$connection9 === void 0 ? void 0 : _this$connection9.on('CollaboratorLeft', callback);\n  }\n  removeAllHandlers() {\n    if (this.connection) {\n      Object.entries(this.handlers).forEach(([event, handler]) => {\n        var _this$connection10;\n        (_this$connection10 = this.connection) === null || _this$connection10 === void 0 ? void 0 : _this$connection10.off(event, handler);\n      });\n      this.handlers = {};\n    }\n  }\n  onUserStartedTyping(callback) {\n    var _this$connection11;\n    this.handlers['UserStartedTyping'] = callback;\n    (_this$connection11 = this.connection) === null || _this$connection11 === void 0 ? void 0 : _this$connection11.on('UserStartedTyping', callback);\n  }\n  onUserStoppedTyping(callback) {\n    var _this$connection12;\n    this.handlers['UserStoppedTyping'] = callback;\n    (_this$connection12 = this.connection) === null || _this$connection12 === void 0 ? void 0 : _this$connection12.on('UserStoppedTyping', callback);\n  }\n  async notifyTypingStarted(noteId) {\n    var _this$connection13;\n    if (((_this$connection13 = this.connection) === null || _this$connection13 === void 0 ? void 0 : _this$connection13.state) === 'Connected') {\n      await this.connection.invoke('StartTyping', noteId);\n    }\n  }\n  async notifyTypingStopped(noteId) {\n    var _this$connection14;\n    if (((_this$connection14 = this.connection) === null || _this$connection14 === void 0 ? void 0 : _this$connection14.state) === 'Connected') {\n      await this.connection.invoke('StopTyping', noteId);\n    }\n  }\n  async saveVersion(noteId, content, versionName) {\n    var _this$connection15;\n    if (((_this$connection15 = this.connection) === null || _this$connection15 === void 0 ? void 0 : _this$connection15.state) === 'Connected') {\n      await this.connection.invoke('SaveVersion', noteId, content, versionName);\n    }\n  }\n  onVersionSaved(callback) {\n    var _this$connection16;\n    this.handlers['VersionSaved'] = callback;\n    (_this$connection16 = this.connection) === null || _this$connection16 === void 0 ? void 0 : _this$connection16.on('VersionSaved', callback);\n  }\n  async updateSelection(noteId, selection) {\n    var _this$connection17;\n    if (((_this$connection17 = this.connection) === null || _this$connection17 === void 0 ? void 0 : _this$connection17.state) === 'Connected') {\n      await this.connection.invoke('UpdateSelection', noteId, selection);\n    }\n  }\n  onSelectionChanged(callback) {\n    var _this$connection18;\n    this.handlers['SelectionChanged'] = callback;\n    (_this$connection18 = this.connection) === null || _this$connection18 === void 0 ? void 0 : _this$connection18.on('SelectionChanged', callback);\n  }\n}\nexport const signalRService = new SignalRService();","map":{"version":3,"names":["HubConnectionBuilder","getCurrentUser","API_URL","process","env","REACT_APP_API_URL","SignalRService","constructor","connection","currentNoteId","handlers","startConnection","user","Id","console","log","hubUrl","withUrl","withAutomaticReconnect","build","onreconnecting","onreconnected","connectionId","onclose","start","err","error","stopConnection","stop","isConnected","_this$connection","state","joinNote","noteId","_this$connection2","leaveNote","invoke","_this$connection3","onNoteUpdated","callback","_this$connection4","on","updateNote","content","_this$connection5","onCursorMoved","_this$connection6","updateCursorPosition","position","_this$connection7","Username","onCollaboratorJoined","_this$connection8","onCollaboratorLeft","_this$connection9","removeAllHandlers","Object","entries","forEach","event","handler","_this$connection10","off","onUserStartedTyping","_this$connection11","onUserStoppedTyping","_this$connection12","notifyTypingStarted","_this$connection13","notifyTypingStopped","_this$connection14","saveVersion","versionName","_this$connection15","onVersionSaved","_this$connection16","updateSelection","selection","_this$connection17","onSelectionChanged","_this$connection18","signalRService"],"sources":["D:/_master/v5/notepad-plus/src/services/signalR.ts"],"sourcesContent":["import { HubConnectionBuilder, HubConnection } from '@microsoft/signalr';\r\nimport { getCurrentUser } from './api';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\nclass SignalRService {\r\n    private connection: HubConnection | null = null;\r\n    private currentNoteId: number | null = null;\r\n    private handlers: { [key: string]: (...args: any[]) => void } = {};\r\n\r\n    startConnection = async () => {\r\n        try {\r\n            const user = getCurrentUser();\r\n            if (!user?.Id) {\r\n                console.log('No user found, skipping SignalR connection');\r\n                return;\r\n            }\r\n\r\n            const hubUrl = `${API_URL}/notehub`;\r\n            console.log('Connecting to SignalR hub at:', hubUrl);\r\n\r\n            this.connection = new HubConnectionBuilder()\r\n                .withUrl(hubUrl)\r\n                .withAutomaticReconnect()\r\n                .build();\r\n\r\n            if (this.connection) {\r\n                this.connection.onreconnecting(() => {\r\n                    console.log('Attempting to reconnect to SignalR hub');\r\n                });\r\n\r\n                this.connection.onreconnected((connectionId?: string) => {\r\n                    console.log('Reconnected to SignalR hub with ID:', connectionId);\r\n                });\r\n\r\n                this.connection.onclose(() => {\r\n                    console.log('SignalR Connection closed');\r\n                });\r\n\r\n                await this.connection.start();\r\n                console.log('SignalR Connected successfully!');\r\n            }\r\n\r\n        } catch (err) {\r\n            console.error('SignalR Connection Error:', err);\r\n        }\r\n    };\r\n\r\n    stopConnection = async () => {\r\n        try {\r\n            if (this.connection) {\r\n                await this.connection.stop();\r\n                console.log('SignalR Disconnected');\r\n            }\r\n        } catch (err) {\r\n            console.error('Error stopping SignalR connection:', err);\r\n        }\r\n    };\r\n\r\n    isConnected = (): boolean => {\r\n        return this.connection?.state === 'Connected';\r\n    };\r\n\r\n    public async joinNote(noteId: number): Promise<void> {\r\n        if (this.currentNoteId) {\r\n            await this.leaveNote(this.currentNoteId);\r\n        }\r\n        \r\n        if (this.connection?.state === 'Connected') {\r\n            await this.connection.invoke('JoinNote', noteId);\r\n            this.currentNoteId = noteId;\r\n        }\r\n    }\r\n\r\n    public async leaveNote(noteId: number): Promise<void> {\r\n        if (this.connection?.state === 'Connected') {\r\n            await this.connection.invoke('LeaveNote', noteId);\r\n            this.currentNoteId = null;\r\n        }\r\n    }\r\n\r\n    public onNoteUpdated(callback: (noteId: number, content: string) => void): void {\r\n        this.handlers['NoteUpdated'] = callback;\r\n        this.connection?.on('NoteUpdated', callback);\r\n    }\r\n\r\n    public async updateNote(noteId: number, content: string): Promise<void> {\r\n        if (this.connection?.state === 'Connected') {\r\n            await this.connection.invoke('UpdateNote', noteId, content);\r\n        }\r\n    }\r\n\r\n    public onCursorMoved(callback: (username: string, position: number) => void): void {\r\n        this.handlers['CursorMoved'] = callback;\r\n        this.connection?.on('CursorMoved', callback);\r\n    }\r\n\r\n    public async updateCursorPosition(noteId: number, position: number): Promise<void> {\r\n        const user = getCurrentUser();\r\n        if (user && this.connection?.state === 'Connected') {\r\n            await this.connection.invoke('CursorMoved', noteId, user.Username, position);\r\n        }\r\n    }\r\n\r\n    public onCollaboratorJoined(callback: (username: string) => void): void {\r\n        this.handlers['CollaboratorJoined'] = callback;\r\n        this.connection?.on('CollaboratorJoined', callback);\r\n    }\r\n\r\n    public onCollaboratorLeft(callback: (username: string) => void): void {\r\n        this.handlers['CollaboratorLeft'] = callback;\r\n        this.connection?.on('CollaboratorLeft', callback);\r\n    }\r\n\r\n    public removeAllHandlers(): void {\r\n        if (this.connection) {\r\n            Object.entries(this.handlers).forEach(([event, handler]) => {\r\n                this.connection?.off(event, handler);\r\n            });\r\n            this.handlers = {};\r\n        }\r\n    }\r\n\r\n    public onUserStartedTyping(callback: (username: string) => void): void {\r\n        this.handlers['UserStartedTyping'] = callback;\r\n        this.connection?.on('UserStartedTyping', callback);\r\n    }\r\n\r\n    public onUserStoppedTyping(callback: (username: string) => void): void {\r\n        this.handlers['UserStoppedTyping'] = callback;\r\n        this.connection?.on('UserStoppedTyping', callback);\r\n    }\r\n\r\n    public async notifyTypingStarted(noteId: number): Promise<void> {\r\n        if (this.connection?.state === 'Connected') {\r\n            await this.connection.invoke('StartTyping', noteId);\r\n        }\r\n    }\r\n\r\n    public async notifyTypingStopped(noteId: number): Promise<void> {\r\n        if (this.connection?.state === 'Connected') {\r\n            await this.connection.invoke('StopTyping', noteId);\r\n        }\r\n    }\r\n\r\n    public async saveVersion(noteId: number, content: string, versionName: string): Promise<void> {\r\n        if (this.connection?.state === 'Connected') {\r\n            await this.connection.invoke('SaveVersion', noteId, content, versionName);\r\n        }\r\n    }\r\n\r\n    public onVersionSaved(callback: (noteId: number, versionId: string) => void): void {\r\n        this.handlers['VersionSaved'] = callback;\r\n        this.connection?.on('VersionSaved', callback);\r\n    }\r\n\r\n    public async updateSelection(noteId: number, selection: { start: number; end: number }): Promise<void> {\r\n        if (this.connection?.state === 'Connected') {\r\n            await this.connection.invoke('UpdateSelection', noteId, selection);\r\n        }\r\n    }\r\n\r\n    public onSelectionChanged(callback: (username: string, selection: { start: number; end: number }) => void): void {\r\n        this.handlers['SelectionChanged'] = callback;\r\n        this.connection?.on('SelectionChanged', callback);\r\n    }\r\n}\r\n\r\nexport const signalRService = new SignalRService(); "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}