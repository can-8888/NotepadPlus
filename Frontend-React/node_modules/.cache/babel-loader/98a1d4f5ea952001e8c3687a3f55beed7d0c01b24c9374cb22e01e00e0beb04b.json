{"ast":null,"code":"var _jsxFileName = \"D:\\\\_master\\\\v5\\\\notepad-plus\\\\src\\\\components\\\\NoteStatusIndicator.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { NoteStatus } from '../types/Note';\nimport Modal from './Modal';\nimport './NoteStatusIndicator.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const NoteStatusIndicator = ({\n  note\n}) => {\n  _s();\n  var _note$status, _note$collaborators;\n  const [showSharedModal, setShowSharedModal] = useState(false);\n\n  // Add type checking and default value\n  const status = ((_note$status = note.status) === null || _note$status === void 0 ? void 0 : _note$status.toString()) || NoteStatus.Personal;\n  const statusClass = `status-indicator ${status.toLowerCase()}`;\n  const getStatusText = () => {\n    switch (status) {\n      case NoteStatus.Public:\n        return '🌐 Public';\n      case NoteStatus.Shared:\n        return '🔄 Shared';\n      case NoteStatus.Personal:\n        return '🔒 Personal';\n      default:\n        return 'Unknown';\n    }\n  };\n  const handleClick = () => {\n    if (status === NoteStatus.Shared) {\n      setShowSharedModal(true);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: statusClass,\n      title: `Status: ${status}`,\n      onClick: handleClick,\n      style: {\n        cursor: status === NoteStatus.Shared ? 'pointer' : 'default'\n      },\n      children: getStatusText()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this), showSharedModal && /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: showSharedModal,\n      onClose: () => setShowSharedModal(false),\n      title: \"Shared With\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"shared-users-list\",\n        children: (_note$collaborators = note.collaborators) !== null && _note$collaborators !== void 0 && _note$collaborators.length ? /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: note.collaborators.map(user => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"username\",\n              children: user.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"email\",\n              children: [\"(\", user.email, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 41\n            }, this)]\n          }, user.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 37\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No users to display\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true);\n};\n_s(NoteStatusIndicator, \"2TOohuJYVg9pLhwRd5sru2dTIRQ=\");\n_c = NoteStatusIndicator;\nvar _c;\n$RefreshReg$(_c, \"NoteStatusIndicator\");","map":{"version":3,"names":["React","useState","NoteStatus","Modal","jsxDEV","_jsxDEV","Fragment","_Fragment","NoteStatusIndicator","note","_s","_note$status","_note$collaborators","showSharedModal","setShowSharedModal","status","toString","Personal","statusClass","toLowerCase","getStatusText","Public","Shared","handleClick","children","className","title","onClick","style","cursor","fileName","_jsxFileName","lineNumber","columnNumber","isOpen","onClose","collaborators","length","map","user","username","email","id","_c","$RefreshReg$"],"sources":["D:/_master/v5/notepad-plus/src/components/NoteStatusIndicator.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Note, NoteStatus, User } from '../types/Note';\r\nimport Modal from './Modal';\r\nimport './NoteStatusIndicator.css';\r\n\r\ninterface NoteStatusIndicatorProps {\r\n    note: Note;\r\n}\r\n\r\nexport const NoteStatusIndicator: React.FC<NoteStatusIndicatorProps> = ({ note }) => {\r\n    const [showSharedModal, setShowSharedModal] = useState(false);\r\n\r\n    // Add type checking and default value\r\n    const status = note.status?.toString() || NoteStatus.Personal;\r\n    const statusClass = `status-indicator ${status.toLowerCase()}`;\r\n\r\n    const getStatusText = () => {\r\n        switch (status) {\r\n            case NoteStatus.Public:\r\n                return '🌐 Public';\r\n            case NoteStatus.Shared:\r\n                return '🔄 Shared';\r\n            case NoteStatus.Personal:\r\n                return '🔒 Personal';\r\n            default:\r\n                return 'Unknown';\r\n        }\r\n    };\r\n\r\n    const handleClick = () => {\r\n        if (status === NoteStatus.Shared) {\r\n            setShowSharedModal(true);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div \r\n                className={statusClass}\r\n                title={`Status: ${status}`}\r\n                onClick={handleClick}\r\n                style={{ cursor: status === NoteStatus.Shared ? 'pointer' : 'default' }}\r\n            >\r\n                {getStatusText()}\r\n            </div>\r\n\r\n            {showSharedModal && (\r\n                <Modal\r\n                    isOpen={showSharedModal}\r\n                    onClose={() => setShowSharedModal(false)}\r\n                    title=\"Shared With\"\r\n                >\r\n                    <div className=\"shared-users-list\">\r\n                        {note.collaborators?.length ? (\r\n                            <ul>\r\n                                {note.collaborators.map((user: User) => (\r\n                                    <li key={user.id}>\r\n                                        <span className=\"username\">{user.username}</span>\r\n                                        <span className=\"email\">({user.email})</span>\r\n                                    </li>\r\n                                ))}\r\n                            </ul>\r\n                        ) : (\r\n                            <p>No users to display</p>\r\n                        )}\r\n                    </div>\r\n                </Modal>\r\n            )}\r\n        </>\r\n    );\r\n}; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAAeC,UAAU,QAAc,eAAe;AACtD,OAAOC,KAAK,MAAM,SAAS;AAC3B,OAAO,2BAA2B;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAMnC,OAAO,MAAMC,mBAAuD,GAAGA,CAAC;EAAEC;AAAK,CAAC,KAAK;EAAAC,EAAA;EAAA,IAAAC,YAAA,EAAAC,mBAAA;EACjF,MAAM,CAACC,eAAe,EAAEC,kBAAkB,CAAC,GAAGb,QAAQ,CAAC,KAAK,CAAC;;EAE7D;EACA,MAAMc,MAAM,GAAG,EAAAJ,YAAA,GAAAF,IAAI,CAACM,MAAM,cAAAJ,YAAA,uBAAXA,YAAA,CAAaK,QAAQ,CAAC,CAAC,KAAId,UAAU,CAACe,QAAQ;EAC7D,MAAMC,WAAW,GAAG,oBAAoBH,MAAM,CAACI,WAAW,CAAC,CAAC,EAAE;EAE9D,MAAMC,aAAa,GAAGA,CAAA,KAAM;IACxB,QAAQL,MAAM;MACV,KAAKb,UAAU,CAACmB,MAAM;QAClB,OAAO,WAAW;MACtB,KAAKnB,UAAU,CAACoB,MAAM;QAClB,OAAO,WAAW;MACtB,KAAKpB,UAAU,CAACe,QAAQ;QACpB,OAAO,aAAa;MACxB;QACI,OAAO,SAAS;IACxB;EACJ,CAAC;EAED,MAAMM,WAAW,GAAGA,CAAA,KAAM;IACtB,IAAIR,MAAM,KAAKb,UAAU,CAACoB,MAAM,EAAE;MAC9BR,kBAAkB,CAAC,IAAI,CAAC;IAC5B;EACJ,CAAC;EAED,oBACIT,OAAA,CAAAE,SAAA;IAAAiB,QAAA,gBACInB,OAAA;MACIoB,SAAS,EAAEP,WAAY;MACvBQ,KAAK,EAAE,WAAWX,MAAM,EAAG;MAC3BY,OAAO,EAAEJ,WAAY;MACrBK,KAAK,EAAE;QAAEC,MAAM,EAAEd,MAAM,KAAKb,UAAU,CAACoB,MAAM,GAAG,SAAS,GAAG;MAAU,CAAE;MAAAE,QAAA,EAEvEJ,aAAa,CAAC;IAAC;MAAAU,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACf,CAAC,EAELpB,eAAe,iBACZR,OAAA,CAACF,KAAK;MACF+B,MAAM,EAAErB,eAAgB;MACxBsB,OAAO,EAAEA,CAAA,KAAMrB,kBAAkB,CAAC,KAAK,CAAE;MACzCY,KAAK,EAAC,aAAa;MAAAF,QAAA,eAEnBnB,OAAA;QAAKoB,SAAS,EAAC,mBAAmB;QAAAD,QAAA,EAC7B,CAAAZ,mBAAA,GAAAH,IAAI,CAAC2B,aAAa,cAAAxB,mBAAA,eAAlBA,mBAAA,CAAoByB,MAAM,gBACvBhC,OAAA;UAAAmB,QAAA,EACKf,IAAI,CAAC2B,aAAa,CAACE,GAAG,CAAEC,IAAU,iBAC/BlC,OAAA;YAAAmB,QAAA,gBACInB,OAAA;cAAMoB,SAAS,EAAC,UAAU;cAAAD,QAAA,EAAEe,IAAI,CAACC;YAAQ;cAAAV,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACjD5B,OAAA;cAAMoB,SAAS,EAAC,OAAO;cAAAD,QAAA,GAAC,GAAC,EAACe,IAAI,CAACE,KAAK,EAAC,GAAC;YAAA;cAAAX,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA,GAFxCM,IAAI,CAACG,EAAE;YAAAZ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAGZ,CACP;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC,gBAEL5B,OAAA;UAAAmB,QAAA,EAAG;QAAmB;UAAAM,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG;MAC5B;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACV;EAAA,eACH,CAAC;AAEX,CAAC;AAACvB,EAAA,CA7DWF,mBAAuD;AAAAmC,EAAA,GAAvDnC,mBAAuD;AAAA,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}