{"ast":null,"code":"import React from'react';import{getCurrentUser}from'../services/api';import'./NoteList.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const NoteList=_ref=>{let{notes,selectedNote,onNoteSelect,onDeleteNote,onMakePublic,onShare,isLoading,error}=_ref;console.log('NoteList received notes:',notes);if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading-message\",children:\"Loading notes...\"});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error});}return/*#__PURE__*/_jsx(\"div\",{className:\"note-lists-container\",children:notes.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"notes-grid\",children:notes.map(note=>{var _getCurrentUser;return/*#__PURE__*/_jsxs(\"div\",{className:\"note-card \".concat((selectedNote===null||selectedNote===void 0?void 0:selectedNote.id)===note.id?'selected':''),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"note-content\",onClick:()=>onNoteSelect(note),children:[/*#__PURE__*/_jsx(\"h3\",{children:note.title||'Untitled'}),/*#__PURE__*/_jsx(\"p\",{children:note.content?note.content.substring(0,100)+'...':'No content'}),/*#__PURE__*/_jsxs(\"div\",{className:\"note-metadata\",children:[/*#__PURE__*/_jsxs(\"small\",{children:[\"Category: \",note.category||'Uncategorized']}),note.user&&/*#__PURE__*/_jsxs(\"small\",{children:[\"By: \",note.user.username||note.user.Username]})]})]}),note.userId===((_getCurrentUser=getCurrentUser())===null||_getCurrentUser===void 0?void 0:_getCurrentUser.Id)&&!note.isShared&&/*#__PURE__*/_jsxs(\"div\",{className:\"note-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>onDeleteNote(note.id),children:\"Delete\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onShare(note.id),children:\"Share\"}),!note.isPublic&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>onMakePublic(note.id),children:\"Make Public\"})]})]},note.id);})}):/*#__PURE__*/_jsx(\"p\",{className:\"no-notes-message\",children:\"No notes available\"})});};export default NoteList;","map":{"version":3,"names":["React","getCurrentUser","jsx","_jsx","jsxs","_jsxs","NoteList","_ref","notes","selectedNote","onNoteSelect","onDeleteNote","onMakePublic","onShare","isLoading","error","console","log","className","children","length","map","note","_getCurrentUser","concat","id","onClick","title","content","substring","category","user","username","Username","userId","Id","isShared","isPublic"],"sources":["D:/_master/v5/notepad-plus/src/components/NoteList.tsx"],"sourcesContent":["import React from 'react';\r\nimport { Note } from '../types/Note';\r\nimport { getCurrentUser } from '../services/api';\r\nimport './NoteList.css';\r\n\r\ninterface NoteListProps {\r\n    notes: Note[];\r\n    selectedNote?: Note;\r\n    onNoteSelect: (note: Note) => void;\r\n    onDeleteNote: (noteId: number) => Promise<void>;\r\n    onMakePublic: (noteId: number) => Promise<void>;\r\n    onShare: (noteId: number) => void;\r\n    isLoading?: boolean;\r\n    error?: string | null;\r\n}\r\n\r\nconst NoteList: React.FC<NoteListProps> = ({\r\n    notes,\r\n    selectedNote,\r\n    onNoteSelect,\r\n    onDeleteNote,\r\n    onMakePublic,\r\n    onShare,\r\n    isLoading,\r\n    error\r\n}) => {\r\n    console.log('NoteList received notes:', notes);\r\n\r\n    if (isLoading) {\r\n        return <div className=\"loading-message\">Loading notes...</div>;\r\n    }\r\n\r\n    if (error) {\r\n        return <div className=\"error-message\">{error}</div>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"note-lists-container\">\r\n            {notes.length > 0 ? (\r\n                <div className=\"notes-grid\">\r\n                    {notes.map((note) => (\r\n                        <div \r\n                            key={note.id} \r\n                            className={`note-card ${selectedNote?.id === note.id ? 'selected' : ''}`}\r\n                        >\r\n                            <div className=\"note-content\" onClick={() => onNoteSelect(note)}>\r\n                                <h3>{note.title || 'Untitled'}</h3>\r\n                                <p>{note.content ? note.content.substring(0, 100) + '...' : 'No content'}</p>\r\n                                <div className=\"note-metadata\">\r\n                                    <small>Category: {note.category || 'Uncategorized'}</small>\r\n                                    {note.user && <small>By: {note.user.username || note.user.Username}</small>}\r\n                                </div>\r\n                            </div>\r\n                            {/* Only show actions for notes owned by the user */}\r\n                            {note.userId === getCurrentUser()?.Id && !note.isShared && (\r\n                                <div className=\"note-actions\">\r\n                                    <button onClick={() => onDeleteNote(note.id)}>Delete</button>\r\n                                    <button onClick={() => onShare(note.id)}>Share</button>\r\n                                    {!note.isPublic && (\r\n                                        <button onClick={() => onMakePublic(note.id)}>Make Public</button>\r\n                                    )}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            ) : (\r\n                <p className=\"no-notes-message\">No notes available</p>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NoteList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}